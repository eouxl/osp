(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a0da7dc"],{"1a41":function(t,e,a){"use strict";var i=a("4c87"),o=a.n(i);o.a},"4c87":function(t,e,a){},"753c":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"member-bar"},[a("el-breadcrumb",{staticClass:"app-breadcrumb",attrs:{separator:"/"}},[a("transition-group",{attrs:{name:"breadcrumb"}},[a("el-breadcrumb-item",{key:"pods"},[a("span",{staticClass:"no-redirect"},[t._v("Cluster")])])],1)],1),a("div",{staticClass:"right"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.createClusterFormVisible=!0}}},[t._v("创建集群")]),a("el-input",{attrs:{size:"small",placeholder:"搜索","suffix-icon":"el-icon-search"}})],1)],1),a("div",{ref:"tableCot",staticClass:"dashboard-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table-fix",staticStyle:{width:"100%"},attrs:{data:t.clusters,"max-height":t.maxHeight,"tooltip-effect":"dark",fit:""}},[a("el-table-column",{attrs:{prop:"name",label:"名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"34%","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"",width:"80"}},[[a("el-link",{staticStyle:{"font-size":"13px"},attrs:{underline:!1}},[t._v("删除")])]],2)],1)],1),a("div",[a("el-dialog",{attrs:{title:"创建集群",visible:t.createClusterFormVisible},on:{"update:visible":function(e){t.createClusterFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"集群名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.createClusterFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleCreateCluster}},[t._v("确 定")])],1)],1)],1)])},o=[],l=(a("b0c0"),a("7ea2")),r=a("5c96"),n={name:"SettingsCluster",components:{},created:function(){this.fetchData()},mounted:function(){var t=this;window.onresize=function(){return function(){var e=window.innerHeight-150;console.log(e),t.maxHeight=e}()}},data:function(){return{maxHeight:window.innerHeight-150,loading:!0,clusters:[],createClusterFormVisible:!1,form:{name:""}}},methods:{fetchData:function(){var t=this;this.loading=!0,Object(l["c"])().then((function(e){t.loading=!1,t.clusters=e.data})).catch((function(){t.loading=!1}))},handleCreateCluster:function(){var t=this;console.log(this.form.name),this.form.name||r["Message"].error("集群名称不能为空！"),Object(l["b"])(this.form).then((function(){t.loading=!1,t.fetchData()})).catch((function(){t.loading=!1})),this.createClusterFormVisible=!1}}},s=n,c=(a("1a41"),a("2877")),u=Object(c["a"])(s,i,o,!1,null,"b9da4652",null);e["default"]=u.exports}}]);